<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>밀 생산성 향상 디지털농업 모델 개발</title>
    <link href="{% static 'landing/vendor/fontawesome-free/css/all.css' %}" rel="stylesheet" type="text/css">
    <link
            href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
            rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <!-- Custom styles for this template-->
    <link href="{% static 'landing/css/sb-admin-2.min.css' %}" rel="stylesheet">
    <link href="{% static 'landing/css/sb-admin-2.css' %}" rel="stylesheet">

    <script src="https://kit.fontawesome.com/1fb217f3df.js" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.3.2/dist/echarts.min.js"></script>
    <script src="https://kit.fontawesome.com/fc4a7565b8.js" crossorigin="anonymous"></script>
    <script src="{% static 'landing/js/sb-admin-2.js' %}"></script>
    <style>
        :root {
          --side-bar-width: 270px;
          --side-bar-height: 90vh;
        }


        /* 사이드바 너비의 80%만큼 왼쪽으로 이동 */
        .side-bar {
          border-radius: 20px;
          transform: translate(calc(var(--side-bar-width) * -0.8), 0);  /* X축 이동, Y축 고정 */
          transition: .5s;
        }

        .side-bar:hover {
            transform: translate(-10px, 0);
        }/* 둥근 모서리의 너비만큼 X축 이동, Y축 고정 */

        {#@media (max-width: 768px) {#}
        {#    .auto-resize-btn {#}
        {#width: 100%;#}
        {#  }#}
        {#}#}
    </style>
</head>
<script>
        function weather_now() {

            $.ajax({
                type: "GET",
                url: "http://web01.taegon.kr:5000/weather_now/buan",
                success: now_result,
                dataType: "json"
            });
         }

        function now_result(data){
            const data2 = JSON.parse(data);
            $("#now_name").html(data2['stnKo'])
            $("#now_sky").html(data2['wwKo'])
            $("#now_tem").html(data2['ta'])
            $("#now_wind_v").html(data2['ws'])
            $("#now_wind").html(data2['wdKo'])
            $("#now_time").html(data2['now_time'])
            $("#now_log").html(data2['log'])

            const displayedImage = document.getElementById('displayedImage');

        }

        function weather_short(){
             $.ajax({
              type: "GET",
              url: "http://web01.taegon.kr:5000/weather_short/buan",
              success: short_result,
              dataType: "json"
            });
        }

        function short_result(data){
            const data2 = JSON.parse(data);
            $("#date1").html(data2[2][0])
            $("#date2").html(data2[2][1])
            $("#date3").html(data2[2][2])
            $("#date4").html(data2[2][3])
            $("#date5").html(data2[2][4])
            $("#sky1").html(data2[5][data2[0][0]])
            $("#sky2").html(data2[5][data2[0][1]])
            $("#sky3").html(data2[5][data2[0][2]])
            $("#sky4").html(data2[5][data2[0][3]])
            $("#sky5").html(data2[5][data2[0][4]])
            $("#rainfall1").html(data2[3][data2[0][0]])
            $("#rainfall2").html(data2[3][data2[0][1]])
            $("#rainfall3").html(data2[3][data2[0][2]])
            $("#rainfall4").html(data2[3][data2[0][3]])
            $("#rainfall5").html(data2[3][data2[0][4]])
            $("#tmin1").html(data2[6][data2[0][0]])
            $("#tmin2").html(data2[6][data2[0][1]])
            $("#tmin3").html(data2[6][data2[0][2]])
            $("#tmin4").html(data2[6][data2[0][3]])
            $("#tmin5").html(data2[6][data2[0][4]])
            $("#tmax1").html(data2[7][data2[0][0]])
            $("#tmax2").html(data2[7][data2[0][1]])
            $("#tmax3").html(data2[7][data2[0][2]])
            $("#tmax4").html(data2[7][data2[0][3]])
            $("#tmax5").html(data2[7][data2[0][4]])
            $("#humid_now").html(data2[4][data2[0][0]])
            $("#humid_now2").html(data2[4][data2[0][1]])
            $("#humid_now3").html(data2[4][data2[0][2]])
            $("#humid_now4").html(data2[4][data2[0][3]])
            $("#humid_now5").html(data2[4][data2[0][4]])


        }

        function weather_mid() {
                $.ajax({
                    type: "GET",
                    url: "http://web01.taegon.kr:5000/weather_mid/buan",
                    success: mid_result,
                    dataType: "json"
                });
             }

        function mid_result(date){
            const data2 = JSON.parse(date);
            $("#date_mid2").html(data2['date'][1])
            $("#tmax_mid2").html(data2[data2['name'][1]]['tamax_4'])
            $("#tmin_mid2").html(data2[data2['name'][1]]['tamin_4'])
            $("#rainfall_mid2_am").html(data2[data2['name'][1]]['rf_4_am'])
            $("#rainfall_mid2_pm").html(data2[data2['name'][1]]['rf_4_pm'])
            $("#sky_mid2_am").html(data2[data2['name'][1]]['wf_4_am'])
            $("#sky_mid2_pm").html(data2[data2['name'][1]]['wf_4_pm'])
            $("#date_mid3").html(data2['date'][2])
            $("#tmax_mid3").html(data2[data2['name'][2]]['tamax_5'])
            $("#tmin_mid3").html(data2[data2['name'][2]]['tamin_5'])
            $("#rainfall_mid3_am").html(data2[data2['name'][2]]['rf_5_am'])
            $("#rainfall_mid3_pm").html(data2[data2['name'][2]]['rf_5_pm'])
            $("#sky_mid3_am").html(data2[data2['name'][2]]['wf_5_am'])
            $("#sky_mid3_pm").html(data2[data2['name'][2]]['wf_5_pm'])
            $("#date_mid4").html(data2['date'][3])
            $("#tmax_mid4").html(data2[data2['name'][3]]['tamax_6'])
            $("#tmin_mid4").html(data2[data2['name'][3]]['tamin_6'])
            $("#rainfall_mid4_am").html(data2[data2['name'][3]]['rf_6_am'])
            $("#rainfall_mid4_pm").html(data2[data2['name'][3]]['rf_6_pm'])
            $("#sky_mid4_am").html(data2[data2['name'][3]]['wf_6_am'])
            $("#sky_mid4_pm").html(data2[data2['name'][3]]['wf_6_pm'])
            $("#date_mid5").html(data2['date'][4])
            $("#tmax_mid5").html(data2[data2['name'][4]]['tamax_7'])
            $("#tmin_mid5").html(data2[data2['name'][4]]['tamin_7'])
            $("#rainfall_mid5_am").html(data2[data2['name'][4]]['rf_7_am'])
            $("#rainfall_mid5_pm").html(data2[data2['name'][4]]['rf_7_pm'])
            $("#sky_mid5_am").html(data2[data2['name'][4]]['wf_7_am'])
            $("#sky_mid5_pm").html(data2[data2['name'][4]]['wf_7_pm'])

    }
    </script>
<body id="page-top" onload="weather_now(), weather_short(), weather_mid(), weather_past(), weather_past_rain(), sensordata(), sensor_graph(), sensor_graph2()">

    <!-- Page Wrapper -->
    <div id="wrapper">


        <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">

            <!-- Heading -->
            <div class="sidebar-heading mt-4">
                대시보드
            </div>

            <!-- Nav Item - Pages Collapse Menu -->
            <li class="nav-item">
                <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseTwo"
                    aria-expanded="true" aria-controls="collapseTwo">
                    <i class="fas fa-fw fa-circle"></i>
                    <span>익산</span>
                </a>
                <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionSidebar">
                    <div class="bg-white py-2 collapse-inner rounded">
                        <h6 class="collapse-header">일자</h6>
                        <a class="collapse-item" href="/">과거현황(2023-03-15)</a>
                        <a class="collapse-item" href="/2">과거현황(2023-06-20)</a>
                    </div>
                </div>
            </li>

            <!-- Nav Item - Utilities Collapse Menu -->
            <li class="nav-item">
                <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseUtilities"
                    aria-expanded="true" aria-controls="collapseUtilities">
                    <i class="fas fa-fw fa-circle"></i>
                    <span>부안</span>
                </a>
                <div id="collapseUtilities" class="collapse" aria-labelledby="headingUtilities"
                    data-parent="#accordionSidebar">
                    <div class="bg-white py-2 collapse-inner rounded">
                        <h6 class="collapse-header">일자</h6>
                        <a class="collapse-item" href="/buan">현재</a>
                    </div>
                </div>
            </li>

            <!-- Divider -->
            <hr class="sidebar-divider">

            <!-- Heading -->
            <div class="sidebar-heading">
                분석자료
            </div>

            <!-- Nav Item - Pages Collapse Menu -->
             <li class="nav-item">
                <a class="nav-link" href="https://data.kma.go.kr/climate/RankState/selectRankStatisticsDivisionList.do?pgmNo=179">
                    <i class="fas fa-fw fa-folder"></i>
                    <span>기상자료</span></a>
            </li>

            <!-- Nav Item - Charts -->
             <li class="nav-item">
                <a class="nav-link" href="http://web01.taegon.kr:8505/">
                    <i class="fas fa-fw fa-folder"></i>
                    <span>위성 NDVI</span></a>
            </li>

            <!-- Nav Item - Tables -->
            <li class="nav-item">
                <a class="nav-link" href="/buan">
                    <i class="fas fa-fw fa-folder"></i>
                    <span>토양수분 계측 자료 (X)</span></a>
            </li>

        </ul>

        <div id="content-wrapper" class="d-flex flex-column">


            <div id="content">

                <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">
                <h3 class="mt-3">부안 백산면 대수리</h3>
                <div class="topbar-divider d-sm-block"></div>
                <h4 class="mt-3" id="now_time"></h4>
            </nav>

                <div class="container-fluid">

                    <div class="row justify-content-around">
                    <!-- Area Chart -->
                    <div id="content1" class="col-xl-6" style="position: relative;">
                        <div class="card shadow mb-4">
                            <!-- Card Header - Dropdown -->
                            <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                <h4 class="m-0 font-weight-bold text-primary">포장배치도</h4>
                            </div>
                            <!-- Card Body -->
                            <div class="card-body">
                                <img class="img-fluid" src="{% static 'landing/img/buan_update.png' %}" width="100%;" alt="map2">
                                <img class="img-fluid mt-2" src="{% static 'landing/img/buan.JPG' %}" width="100%;" alt="map">
                            </div>
                        </div>
                    </div>
                    <div id="content2" class="col-xl-6" style="position: relative;">
                        <div class="row">
                                <div class="col-xl-12">
                                    <div class="card shadow mb-4">
                                        <!-- Card Header - Dropdown -->
                                        <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                            <h4 class="m-0 font-weight-bold text-primary text-center">Plot3 / Plot4</h4>
                                        </div>
                                        <!-- Card Body -->
                                        <div class="card-body">
                                            <div id="sensorgraph1" class="mt-4" style="height:400px; text-align: center;"></div>
                                            <script>
                                                function sensor_graph() {
                                                    var first_data;
                                                    var second_data;

                                                $.ajax({
                                                    type: "GET",
                                                    url: "http://web01.taegon.kr:5000/api/zentra/z6-20062",
                                                    success: function(data) {
                                                        first_data = data;
                                                        $.ajax({
                                                            type: "GET",
                                                            url: "http://web01.taegon.kr:5000/api/zentra/z6-20060",
                                                            success: function(data) {
                                                                second_data = data;
                                                                graph_result(first_data, second_data);
                                                            },
                                                            dataType: 'json'
                                                        });
                                                    },
                                                    dataType: 'json'
                                                });
                                                }



                                                    var soil = echarts.init(document.getElementById('sensorgraph1'));

                                                    function graph_result(first_data, second_data) {
                                                        var option = {
                                                            title: {
                                                            },
                                                            tooltip: {
                                                                trigger: 'axis',
                                                                position: function (pt) {
                                                                    return [pt[0], '100%'];
                                                                },

                                                            },
                                                            legend: {
                                                                data: ['z6-20062', 'z6-20050'],
                                                            },
                                                            grid: {
                                                                left: '3%',
                                                                right: '4%',
                                                                bottom: '50',
                                                                containLabel: true
                                                            },
                                                            toolbox: {
                                                                feature: {
                                                                    dataZoom: {
                                                                        yAxisIndex: 'none'
                                                                    },
                                                                    restore: {},
                                                                    saveAsImage: {}
                                                                }
                                                            },
                                                            xAxis: {
                                                                type: 'category',
                                                                boundaryGap: false,
                                                                data: first_data['datetime']
                                                            },
                                                            yAxis: {
                                                                type: 'value',
                                                                boundaryGap: [0, '100%'],
                                                                min: -2,
                                                                max: 2
                                                            },
                                                            dataZoom: [
                                                                {
                                                                    show: true,
                                                                },
                                                                {
                                                                    type: 'inside',
                                                                }
                                                            ],
                                                            series: [
                                                                {
                                                                    name: 'z6-20062',
                                                                    type: 'line',
                                                                    data: first_data['mp_mean'],
                                                                    lineStyle: {normal: {color: '#6dc4d3'}},
                                                                    itemStyle: {normal: {color: '#6dc4d3'}}


                                                                },
                                                                {
                                                                    name: 'z6-20050',
                                                                    type: 'line',
                                                                    data: second_data['mp_mean'],
                                                                    lineStyle: {normal: {color: '#3639ff'}},
                                                                    itemStyle: {normal: {color: '#3639ff'}}
                                                                },
                                                            ]
                                                        };

                                                        // 위에서 설정한 속성을 차트에 반영합니다.
                                                            soil.setOption(option);



                                                       }

                                                       window.addEventListener('resize', function() {
                                                        soil.resize();
                                                            });
                                            </script>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        <div class="row">
                                <div class="col-xl-12">
                                    <div class="card shadow mb-4">
                                        <!-- Card Header - Dropdown -->
                                        <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                            <h4 class="m-0 font-weight-bold text-primary">Plot 7/ Plot 8</h4>
                                        </div>
                                        <!-- Card Body -->
                                        <div class="card-body">
                                            <div id="sensorgraph2" class="mt-4" style="height:400px; text-align: center;"></div>
                                            <script>
                                                function sensor_graph2() {
                                                        $.ajax({
                                                            type: "GET",
                                                            url: "http://web01.taegon.kr:5000/api/zentra/z6-20051",
                                                            success: graph_result2,
                                                            dataType: 'json'
                                                        });

                                                        }



                                                    var soil2 = echarts.init(document.getElementById('sensorgraph2'));

                                                    function graph_result2(data) {
                                                        var option = {
                                                            title: {
                                                            },
                                                            tooltip: {
                                                                trigger: 'axis',
                                                                position: function (pt) {
                                                                    return [pt[0], '100%'];
                                                                },

                                                            },
                                                            legend: {
                                                                data: ['z6-20061', 'z6-20051'],
                                                            },
                                                            grid: {
                                                                left: '3%',
                                                                right: '4%',
                                                                bottom: '50',
                                                                containLabel: true
                                                            },
                                                            toolbox: {
                                                                feature: {
                                                                    dataZoom: {
                                                                        yAxisIndex: 'none'
                                                                    },
                                                                    restore: {},
                                                                    saveAsImage: {}
                                                                }
                                                            },
                                                            xAxis: {
                                                                type: 'category',
                                                                boundaryGap: false,
                                                                data: data['datetime']
                                                            },
                                                            yAxis: {
                                                                type: 'value',
                                                                boundaryGap: [0, '100%'],
                                                                min: -2,
                                                                max: 2
                                                            },
                                                            dataZoom: [
                                                                {
                                                                    show: true,
                                                                },
                                                                {
                                                                    type: 'inside',
                                                                }
                                                            ],
                                                            series: [
                                                                {
                                                                    name: 'z6-20051',
                                                                    type: 'line',
                                                                    data: data['mp_mean'],
                                                                    lineStyle: {normal: {color: '#3639ff'}},
                                                                    itemStyle: {normal: {color: '#3639ff'}}
                                                                },
                                                            ]
                                                        };

                                                        // 위에서 설정한 속성을 차트에 반영합니다.
                                                            soil2.setOption(option);



                                                       }

                                                       window.addEventListener('resize', function() {
                                                        soil2.resize();
                                                            });
                                            </script>
                                        </div>
                                    </div>
                                </div>
                                </div>
                        </div>
{#                            <div class="row">#}
{#                                <div class="col-xl-12">#}
{#                                    <div class="card shadow mb-4">#}
{#                                        <!-- Card Header - Dropdown -->#}
{#                                        <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">#}
{#                                            <h4 class="m-0 font-weight-bold text-primary">현재 기상 데이터</h4>#}
{#                                            <h5 class='mb-0 mt-1' id="now_log"></h5>#}
{#                                        </div>#}
{#                                        <!-- Card Body -->#}
{#                                        <div class="card-body">#}
{#                                            <table class="table fs-5 text-center" style="border-color:#f8f9fa; border-collapse:unset">#}
{#                                                <thead>#}
{#                                                <tr>#}
{#                                                    <th scope="col">온도</th>#}
{#                                                    <th scope="col">습도</th>#}
{#                                                    <th scope="col">날씨</th>#}
{#                                                    <th scope="col">풍향</th>#}
{#                                                    <th scope="col">풍속</th>#}
{#                                                </tr>#}
{#                                                </thead>#}
{#                                                <tbody>#}
{#                                                <tr>#}
{#                                                    <td>#}
{#                                                        <div id="now_tem"></div>#}
{#                                                    </td>#}
{#                                                    <td>#}
{#                                                        <div id="humid_now"></div>#}
{#                                                    </td>#}
{#                                                    <td>#}
{#                                                        <div id="now_sky"></div>#}
{#                                                    </td>#}
{#                                                    <td>#}
{#                                                        <div id="now_wind"></div>#}
{#                                                    </td>#}
{#                                                    <td>#}
{#                                                        <div id="now_wind_v"></div>#}
{#                                                    </td>#}
{#                                                </tr>#}
{#                                                </tbody>#}
{#                                            </table>#}
{#                                        </div>#}
{#                                    </div>#}
{#                                </div>#}
{#                            </div>#}
{#                            <div class="row">#}
{#                                <div class="col-xl-12">#}
{#                                    <div class="card shadow mb-4">#}
{#                                        <!-- Card Header - Dropdown -->#}
{#                                        <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">#}
{#                                            <h4 class="m-0 font-weight-bold text-primary">단기 기상 데이터</h4>#}
{#                                        </div>#}
{#                                        <!-- Card Body -->#}
{#                                        <div class="card-body">#}
{#                                            <table class="table fs-6 text-center" style="border-color:#f8f9fa; border-collapse:unset">#}
{#                                            <thead>#}
{#                                            <tr>#}
{#                                                <th scope="col" class="px-1"></th>#}
{#                                                <th scope="col" class="px-1">최고기온</th>#}
{#                                                <th scope="col" class="px-1">최저기온</th>#}
{#                                                <th scope="col" class="px-1">습도</th>#}
{#                                                <th scope="col" class="px-1">강수확률</th>#}
{#                                                <th scope="col" class="px-1">구름양</th>#}
{#                                            </tr>#}
{#                                            </thead>#}
{#                                            <tbody>#}
{#                                            <tr>#}
{#                                                <td class="py-4"><div id="date2"></div></td>#}
{#                                                <td class="py-4"><div id="tmax2"></div></td>#}
{#                                                <td class="py-4"><div id="tmin2"></div></td>#}
{#                                                <td class="py-4"><div id="humid_now2"></div></td>#}
{#                                                <td class="py-4"><div id="rainfall2"></div></td>#}
{#                                                <td class="py-4"><div id="sky2"></div></td>#}
{#                                            </tr>#}
{#                                            <tr>#}
{#                                                <td class="py-4"><div id="date3"></div></td>#}
{#                                                <td class="py-4"><div id="tmax3"></div></td>#}
{#                                                <td class="py-4"><div id="tmin3"></div></td>#}
{#                                                <td class="py-4"><div id="humid_now3"></div></td>#}
{#                                                <td class="py-4"><div id="rainfall3"></div></td>#}
{#                                                <td class="py-4"><div id="sky3"></div></td>#}
{#                                            </tr>#}
{#                                            <tr>#}
{#                                                <td class="py-4"><div id="date4"></div></td>#}
{#                                                <td class="py-4"><div id="tmax4"></div></td>#}
{#                                                <td class="py-4"><div id="tmin4"></div></td>#}
{#                                                <td class="py-4"><div id="humid_now4"></div></td>#}
{#                                                <td class="py-4"><div id="rainfall4"></div></td>#}
{#                                                <td class="py-4"><div id="sky4"></div></td>#}
{#                                            </tr>#}
{#                                            </tbody>#}
{#                                        </table>#}
{#                                        </div>#}
{#                                    </div>#}
{#                                </div>#}
{#                                </div>#}
{#                            <div class="row">#}
{#                                <div class="col-xl-12">#}
{#                                    <div class="card shadow mb-4">#}
{#                                        <!-- Card Header - Dropdown -->#}
{#                                        <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">#}
{#                                            <h4 class="m-0 font-weight-bold text-primary">중기 기상 데이터</h4>#}
{#                                        </div>#}
{#                                        <!-- Card Body -->#}
{#                                        <div class="card-body">#}
{#                                            <table class="table text-center fs-5">#}
{#                                            <thead>#}
{#                                            <tr>#}
{#                                                <th scope="col"></th>#}
{#                                                <th scope="col" class="px-1">최고기온</th>#}
{#                                                <th scope="col" class="px-1">최저기온</th>#}
{#                                                <th scope="col" class="px-1">강수확률</th>#}
{#                                                <th scope="col" class="px-1">날씨</th>#}
{#                                            </tr>#}
{#                                            </thead>#}
{#                                            <tbody>#}
{#                                            <tr>#}
{#                                                <td class="py-4"><div id="date_mid2"></div></td>#}
{#                                                <td class="py-4"><div id="tmax_mid2"></div></td>#}
{#                                                <td class="py-4"><div id="tmin_mid2"></div></td>#}
{#                                                <td class="py-4"><div id="rainfall_mid2_pm"></div></td>#}
{#                                                <td class="py-4"><div id="sky_mid2_pm"></div></td>#}
{#                                            </tr>#}
{#                                            <tr>#}
{#                                                <td class="py-4"><div id="date_mid3"></div></td>#}
{#                                                <td class="py-4"><div id="tmax_mid3"></div></td>#}
{#                                                <td class="py-4"><div id="tmin_mid3"></div></td>#}
{#                                                <td class="py-4"><div id="rainfall_mid3_pm"></div></td>#}
{#                                                <td class="py-4"><div id="sky_mid3_pm"></div></td>#}
{#                                            </tr>#}
{#                                            <tr>#}
{#                                                <td class="py-4"><div id="date_mid4"></div></td>#}
{#                                                <td class="py-4"><div id="tmax_mid4"></div></td>#}
{#                                                <td class="py-4"><div id="tmin_mid4"></div></td>#}
{#                                                <td class="py-4"><div id="rainfall_mid4_pm"></div></td>#}
{#                                                <td class="py-4"><div id="sky_mid4_pm"></div></td>#}
{#                                            </tr>#}
{#                                            <tr>#}
{#                                                <td class="py-4"><div id="date_mid5"></div></td>#}
{#                                                <td class="py-4"><div id="tmax_mid5"></div></td>#}
{#                                                <td class="py-4"><div id="tmin_mid5"></div></td>#}
{#                                                <td class="py-4"><div id="rainfall_mid5_pm"></div></td>#}
{#                                                <td class="py-4"><div id="sky_mid5_pm"></div></td>#}
{#                                            </tr>#}
{#                                            </tbody>#}
{#                                        </table>#}
{#                                        </div>#}
{#                                    </div>#}
{#                                </div>#}
{#                            </div>#}
                    </div>
                </div>


                    <div class="row px-3 mt-3">
                  <h1 style="font-weight: bolder;">과거기상비교
                            <a target="_blank" href="https://data.kma.go.kr/climate/RankState/selectRankStatisticsDivisionList.do?pgmNo=179">
                             <img id='btn' src="{% static 'landing/img/page_click2.png' %}" alt="graph" width="35px">
                         </a>
                  </h1>
                </div>
                    <div class="row mt-2 mb-4">
                     <div class="col-xl-6">
                        <div class="card text-center shadow mb-4">
                             <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                        <h3 class="m-0 font-weight-bold text-primary">월평균 기온</h3>
                            </div>
                            <div class="card-body text-center">
                                <div id="main" class="mt-4" style="height:400px; text-align: center;"></div>
                                <script>
                                function weather_past() {
                                    var past_data;
                                    var today_data;

                                $.ajax({
                                    type: "GET",
                                    url: "http://web01.taegon.kr:5000/past/temp/buan",
                                    success: function(data) {
                                        past_data = data;
                                        $.ajax({
                                            type: "GET",
                                            url: "http://web01.taegon.kr:5000/today/temp/buan",
                                            success: function(data) {
                                                today_data = data;
                                                past_result(past_data, today_data);
                                            },
                                            dataType: 'json'
                                        });
                                    },
                                    dataType: 'json'
                                });
                                }



                                    var myChart = echarts.init(document.getElementById('main'));

                                    function past_result(past_data, today_data) {
                                        var option = {
                                            title: {
                                            },
                                            tooltip: {
                                                trigger: 'axis',
                                                position: function (pt) {
                                                    return [pt[0], '100%'];
                                                },

                                            },
                                            legend: {
                                                data: ['하위25%', '현재평균', '상위25%'],
                                            },
                                            grid: {
                                                left: '3%',
                                                right: '4%',
                                                bottom: '50',
                                                containLabel: true
                                            },
                                            toolbox: {
                                                feature: {
                                                    dataZoom: {
                                                        yAxisIndex: 'none'
                                                    },
                                                    restore: {},
                                                    saveAsImage: {}
                                                }
                                            },
                                            xAxis: {
                                                type: 'category',
                                                boundaryGap: false,
                                                data: past_data['date']
                                            },
                                            yAxis: {
                                                type: 'value',
                                                boundaryGap: [0, '100%'],
                                                min: -10,
                                                max: 30
                                            },
                                            dataZoom: [
                                                {
                                                    show: true,
                                                },
                                                {
                                                    type: 'inside',
                                                }
                                            ],
                                            series: [
                                                {
                                                    name: '현재평균',
                                                    type: 'line',
                                                    data: today_data,
                                                    lineStyle: {normal: {color: '#74D36D'}},
                                                    itemStyle: {normal: {color: '#74D36D'}}


                                                },
                                                {
                                                    name: '상위25%',
                                                    type: 'line',
                                                    data: past_data['25%'],
                                                    lineStyle: {normal: {color: '#FF3636'}},
                                                    itemStyle: {normal: {color: '#FF3636'}}
                                                },
                                                {
                                                    name: '하위25%',
                                                    type: 'line',
                                                    data: past_data['75%'],
                                                    lineStyle: {normal: {color: '#6799FF'}},
                                                    itemStyle: {normal: {color: '#6799FF'}}
                                                },
                                            ]
                                        };

                                        // 위에서 설정한 속성을 차트에 반영합니다.
                                            myChart.setOption(option);



                                       }

                                       window.addEventListener('resize', function() {
                                        myChart.resize();
                                            });
                                    </script>
                            </div>
                        </div>
                    </div>
 {#                         -------------------강수량 그래프 ---------------#}
                     <div class="col-xl-6">
                        <div class="card shadow">
                            <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                <h3 class="m-0 font-weight-bold text-primary">월평균 강수량</h3>
                            </div>
                            <div class="card-body text-center">
                                <div id="rain" class="mt-4" style="height:400px; text-align: center;"></div>
                                <script>
                                    function weather_past_rain() {
                                    var past_data;
                                    var today_data;

                                $.ajax({
                                    type: "GET",
                                    url: "http://web01.taegon.kr:5000/past/rainfall/buan",
                                    success: function(data) {
                                        past_data = data;
                                        $.ajax({
                                            type: "GET",
                                            url: "http://web01.taegon.kr:5000/today/rainfall/buan",
                                            success: function(data) {
                                                today_data = data;
                                                past_result_rain(past_data, today_data);
                                            },
                                            dataType: 'json'
                                        });
                                    },
                                    dataType: 'json'
                                });
                                }

                                    var rainfall = echarts.init(document.getElementById('rain'));


                                    function past_result_rain(past_data, today_data) {
                                        const posList = [
                                           'left',
                                           'right',
                                           'top',
                                           'bottom',
                                           'inside',
                                           'insideTop',
                                           'insideLeft',
                                           'insideRight',
                                           'insideBottom',
                                           'insideTopLeft',
                                           'insideTopRight',
                                           'insideBottomLeft',
                                           'insideBottomRight'

                                       ];

                                       rainfall.configParameters = {
                                           rotate: {
                                               min: -90,
                                               max: 90
                                           },
                                           align: {
                                               options: {
                                                   left: 'left',
                                                   center: 'center',
                                                   right: 'right'
                                               }
                                           },
                                           verticalAlign: {
                                               options: {
                                                   top: 'top',
                                                   middle: 'middle',
                                                   bottom: 'bottom'
                                               }
                                           },
                                           position: {
                                               options: posList.reduce(function (map, pos) {
                                                   map[pos] = pos;
                                                   return map;
                                               }, {})
                                           },
                                           distance: {
                                               min: 0,
                                               max: 100
                                           }
                                       };

                                       rainfall.config = {
                                           rotate: 90,
                                           align: 'left',
                                           verticalAlign: 'middle',
                                           position: 'insideBottom',
                                           distance: 15,
                                       };
                                       option = {
                                           title: {
                                           },
                                           tooltip: {
                                               trigger: 'axis',
                                               axisPointer: {
                                                   type: 'shadow'
                                               }
                                           },
                                           legend: {
                                               data: ['하위25%', '현재', '상위25%']
                                           },
                                           toolbox: {
                                               show: true,
                                               orient: 'vertical',
                                               left: 'right',
                                               top: 'center',
                                               feature: {
                                                   mark: {show: true},
                                                   dataView: {show: true, readOnly: false},
                                                   magicType: {show: true, type: ['line', 'bar', 'stack']},
                                                   restore: {show: true},
                                                   saveAsImage: {show: true}
                                               }
                                           },
                                           xAxis: [
                                               {
                                                   type: 'category',
                                                   axisTick: {show: false},
                                                   data: ['10월', '11월', '12월', '1월', '2월', '3월', '4월', '5월', '6월']
                                               }
                                           ],
                                           yAxis: [
                                               {
                                                   type: 'value'
                                               }
                                           ],
                                           series: [
                                                {
                                                   name: '하위25%',
                                                   type: 'bar',
                                                   emphasis: {
                                                       focus: 'series'
                                                   },
                                                   data: past_data['75%'],
                                                    itemStyle: {
                                                        color: '#6e9dfe'
                                                    }
                                               },
                                               {
                                                   name: '현재',
                                                   type: 'bar',
                                                   emphasis: {
                                                       focus: 'series'
                                                   },
                                                   data: today_data,
                                                   itemStyle: {
                                                        color: '#55a431'
                                                    }
                                               },
                                               {
                                                   name: '상위25%',
                                                   type: 'bar',
                                                   barGap: 0,
                                                   emphasis: {
                                                       focus: 'series'
                                                   },
                                                   data: past_data['25%'],
                                                   itemStyle: {
                                                        color: '#bd4c4c'
                                                    }
                                               },
                                           ],

                                       };

                                       rainfall.setOption(option);

                                       }

                                       window.addEventListener('resize', function() {
                                        rainfall.resize();
                                        });
                                    </script>
                            </div>
                        </div>
                        </div>
                     </div>

                    <div class="row px-3">
                     <h1 style="font-weight: bolder;">모델예측</h1>
                </div>
                    <div class="row mt-2 mb-5">
                        <div class="col-xl-6 mb-5">
                            <div class="card shadow">
                            <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                        <h3 class="m-0 font-weight-bold text-primary">생산량</h3>
                            </div>
                        <div class="card-body text-center">
                            <img class="img-fluid" src="{% static 'landing/img/model_202308.png' %}" width="100%;" alt="map">
                        </div>
                    </div>
                        </div>
                        <div class="col-xl-6 mb-5">
                            <div class="card shadow">
                                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                    <h3 class="m-0 font-weight-bold text-primary">수분함량</h3>
                                </div>
                        <div class="card-body text-center">
                            <img class="img-fluid" src="{% static 'landing/img/dashboard_rain_sws_namwon_current.png' %}" width="100%;" alt="map2">
                        </div>
                        </div>
                    </div>
                 </div>
                    <div>
                        <h2 style="font-weight: bolder;">토양수분 센서</h2>
                        <script>
                            function soilsensor(sensorNumber) {
                                    $.ajax({
                                        type: "GET",
                                        url: "http://web01.taegon.kr:5000/api/zentra/z6-20" + sensorNumber,
                                        success: function(data) {
                                            updateSensorData(sensorNumber, data);
                                        },
                                        dataType: "json"
                                    });
                                }

                                function updateSensorData(sensorNumber, data) {
                                    var lastIndex = data['Matric Potential_1'].length - 1;
                                    $("#"+sensorNumber+"_1").html(data['Matric Potential_1'][lastIndex]);
                                    $("#"+sensorNumber+"_2").html(data['Matric Potential_2'][lastIndex]);
                                    $("#"+sensorNumber+"_3").html(data['Matric Potential_3'][lastIndex]);
                                    $("#"+sensorNumber+"_4").html(data['Matric Potential_4'][lastIndex]);
                                    $("#"+sensorNumber+"_5").html(data['Matric Potential_5'][lastIndex]);
                                    $("#"+sensorNumber+"_6").html(data['Matric Potential_6'][lastIndex]);
                                }

                            function sensordata() {
                                soilsensor("054");
                                soilsensor("063");
                                soilsensor("055");
                                soilsensor("051");
                                soilsensor("062");
                                soilsensor("060");
                                soilsensor("058");
                            }

                        </script>
                        <div class="row">
                    <div class="col-xl-2 col-md-6 mb-1 d-flex justify-content-center align-items-center">
                            <h3>Plot 1</h3>
                    </div>
                    <div class="col-xl-8 col-md-6 mb-1">
                        <div class="card shadow h-100 py-2">
                            <div class="card-body">
                                <div class="row no-gutters align-items-center">
                                    <div class="col mr-2">
                                        <div class="row text-center">
                                            <div class="col-md-2">
                                                <p>3</p>
                                                <div id="063_3"></div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>2</p>
                                                <div id="063_2"></div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>1</p>
                                                <div id="063_1"></div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>3</p>
                                                <div id="054_3"></div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>2</p>
                                                <div id="054_2"></div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>1</p>
                                                <div id="054_1"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <i class="fa-regular fa-droplet-degree"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-2 col-md-6 mb-1 d-flex justify-content-center align-items-center">
                            <h3>관행</h3>
                    </div>
                </div>
                        <div class="row">
                    <div class="col-xl-2 col-md-6 mb-4 d-flex justify-content-center align-items-center">
                            <h3>Plot 2</h3>
                    </div>
                    <div class="col-xl-8 col-md-6 mb-4">
                        <div class="card border-left-warning shadow h-100 py-2">
                            <div class="card-body">
                                <div class="row no-gutters align-items-center">
                                    <div class="col mr-2">
                                        <div class="row text-center">
                                            <div class="col-md-2">
                                                <p>4</p>
                                                <div id="063_4"></div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>5</p>
                                                <div id="063_5"></div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>6</p>
                                                <div id="063_6"></div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>4</p>
                                                <div id="054_4"></div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>5</p>
                                                <div id="054_5"></div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>6</p>
                                                <div id="054_6"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <i class="fa-regular fa-droplet-degree"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-2 col-md-6 mb-4 d-flex justify-content-center align-items-center">
                            <h3>관행 + 시비</h3>
                    </div>
                </div>
                        <div class="row">
                    <div class="col-xl-2 col-md-6 mb-1 d-flex justify-content-center align-items-center">
                            <h3>Plot 3</h3>
                    </div>
                    <div class="col-xl-8 col-md-6 mb-1">
                        <div class="card shadow border-left-primary border-right-warning h-100 py-2">
                            <div class="card-body">
                                <div class="row no-gutters align-items-center">
                                    <div class="col mr-2">
                                        <div class="row text-center">
                                            <div class="col-md-2">
                                                <p>4</p>
                                                <div id="062_4"></div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>5</p>
                                                <div id="062_5"></div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>6</p>
                                                <div id="062_6"></div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>4</p>
                                                <div id="060_4"></div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>5</p>
                                                <div id="060_5"></div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>6</p>
                                                <div id="060_6"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <i class="fa-regular fa-droplet-degree"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-2 col-md-6 mb-1 d-flex justify-content-center align-items-center">
                            <h3>관행 + 관개 + 시비</h3>
                    </div>
                </div>
                        <div class="row">
                    <div class="col-xl-2 col-md-6 mb-4 d-flex justify-content-center align-items-center">
                            <h3>Plot 4</h3>
                    </div>
                    <div class="col-xl-8 col-md-6 mb-4">
                        <div class="card border-left-primary shadow h-100 py-2">
                            <div class="card-body">
                                <div class="row no-gutters align-items-center">
                                    <div class="col mr-2">
                                        <div class="row text-center">
                                            <div class="col-md-2">
                                                <p>1</p>
                                                <div id="062_1"></div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>2</p>
                                                <div id="062_2"></div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>3</p>
                                                <div id="062_3"></div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>1</p>
                                                <div id="060_1"></div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>2</p>
                                                <div id="060_2"></div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>3</p>
                                                <div id="060_3"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <i class="fa-regular fa-droplet-degree"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-2 col-md-6 mb-4 d-flex justify-content-center align-items-center">
                            <h3>관행 + 관개</h3>
                    </div>
                </div>
                        <div class="row">
                    <div class="col-xl-2 col-md-6 mb-1 d-flex justify-content-center align-items-center">
                            <h3>Plot 5</h3>
                    </div>
                    <div class="col-xl-8 col-md-6 mb-1">
                        <div class="card shadow border-left-primary border-right-warning h-100 py-2">
                            <div class="card-body">
                                <div class="row no-gutters align-items-center">
                                    <div class="col mr-2">
                                        <div class="row text-center">
                                            <div class="col-md-2">
                                                <p>4</p>
                                                <div id="058_4"></div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>5</p>
                                                <div id="058_5"></div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>6</p>
                                                <div id="058_6"></div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>4</p>
                                                <div id="055_4"></div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>5</p>
                                                <div id="055_5"></div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>6</p>
                                                <div id="055_6"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <i class="fa-regular fa-droplet-degree"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-2 col-md-6 mb-1 d-flex justify-content-center align-items-center">
                            <h3>파종(세조파)</h3>
                    </div>
                </div>
                        <div class="row">
                    <div class="col-xl-2 col-md-6 mb-4 d-flex justify-content-center align-items-center">
                            <h3>Plot 6</h3>
                    </div>
                    <div class="col-xl-8 col-md-6 mb-4">
                        <div class="card border-left-warning shadow h-100 py-2">
                            <div class="card-body">
                                <div class="row no-gutters align-items-center">
                                    <div class="col mr-2">
                                        <div class="row text-center">
                                            <div class="col-md-2">
                                                <p>1</p>
                                                <div id="058_1"></div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>2</p>
                                                <div id="058_2"></div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>3</p>
                                                <div id="058_3"></div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>1</p>
                                                <div id="055_1"></div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>2</p>
                                                <div id="055_2"></div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>3</p>
                                                <div id="055_3"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <i class="fa-regular fa-droplet-degree"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-2 col-md-6 mb-4 d-flex justify-content-center align-items-center">
                            <h3>관행 + 시비</h3>
                    </div>
                </div>
                        <div class="row">
                    <div class="col-xl-2 col-md-6 mb-1 d-flex justify-content-center align-items-center">
                            <h3>Plot 7</h3>
                    </div>
                    <div class="col-xl-8 col-md-6 mb-1">
                        <div class="card shadow border-left-primary border-right-warning h-100 py-2">
                            <div class="card-body">
                                <div class="row no-gutters align-items-center">
                                    <div class="col mr-2">
                                        <div class="row text-center">
                                            <div class="col-md-2">
                                                <p>4</p>
                                                <div id="061_3">X</div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>5</p>
                                                <div id="061_2">X</div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>6</p>
                                                <div id="061_1">X</div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>4</p>
                                                <div id="051_4"></div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>5</p>
                                                <div id="051_5"></div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>6</p>
                                                <div id="051_6"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <i class="fa-regular fa-droplet-degree"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-2 col-md-6 mb-1 d-flex justify-content-center align-items-center">
                            <h3>파종 + 관개 + 시비</h3>
                    </div>
                </div>
                        <div class="row">
                    <div class="col-xl-2 col-md-6 mb-4 d-flex justify-content-center align-items-center">
                            <h3>Plot 8</h3>
                    </div>
                    <div class="col-xl-8 col-md-6 mb-4">
                        <div class="card border-left-primary shadow h-100 py-2">
                            <div class="card-body">
                                <div class="row no-gutters align-items-center">
                                    <div class="col mr-2">
                                        <div class="row text-center">
                                            <div class="col-md-2">
                                                <p>1</p>
                                                <div id="061_1">X</div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>2</p>
                                                <div id="061_2">X</div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>3</p>
                                                <div id="061_3">X</div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>1</p>
                                                <div id="051_1"></div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>2</p>
                                                <div id="051_2"></div>
                                            </div>
                                            <div class="col-md-2">
                                                <p>3</p>
                                                <div id="051_3"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <i class="fa-regular fa-droplet-degree"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-2 col-md-6 mb-4 d-flex justify-content-center align-items-center">
                            <h3>파종 + 관개</h3>
                    </div>
                </div>
            </div>
            </div>
                <!-- /.container-fluid -->

            </div>
            <!-- End of Main Content -->

        </div>
        <!-- End of Content Wrapper -->

    </div>
    <!-- End of Page Wrapper -->

    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#page-top">
        <i class="fas fa-angle-up"></i>
    </a>

    <!-- Logout Modal-->


    <!-- Bootstrap core JavaScript-->
<script src="{% static 'landing/vendor/jquery/jquery.min.js' %}"></script>\
<script src="{% static 'landing/vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'landing/vendor/bootstrap/js/bootstrap.min.js' %}"></script>
<script src="{% static 'landing/js/echarts.js' %}"></script>

</body>

</html>